{"version":3,"file":"security.js","sourceRoot":"","sources":["../../../src/test/test-utils/security.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;GAYG;AAEH,MAAM,UAAU,sBAAsB;IACpC,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC1C,IAAI;QACF,GAAG,CAAC,SAAS,GAAG,eAAe,CAAC;KACjC;IAAC,WAAM;QACN,OAAO,IAAI,CAAC;KACb;IACD,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,SAAS;IAChB,IAAI,MAAM,GAAG;QACX,UAAU,CAAC,OAAe;YACxB,OAAO,OAAO,CAAC;QACjB,CAAC;KACF,CAAC;IACF,IAAI,MAAM,CAAC,YAAY,KAAK,SAAS,EAAE;QACrC,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC,YAAY,CAAC,iBAAiB,EAAE,MAAM,CACvC,CAAC;KAC9B;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,MAAM,CAAC,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC","sourcesContent":["/**\n * @license\n * Copyright (c) 2020 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nexport function trustedTypesIsEnforced(): boolean {\n  const div = document.createElement('div');\n  try {\n    div.innerHTML = '<img src=\"#\">';\n  } catch {\n    return true;\n  }\n  return false;\n}\n\nfunction getPolicy() {\n  let policy = {\n    createHTML(rawHtml: string) {\n      return rawHtml;\n    }\n  };\n  if (window.trustedTypes !== undefined) {\n    policy = window.trustedTypes.createPolicy('unsafehtml-test', policy) as\n        unknown as typeof policy;\n  }\n  return policy;\n}\n\nexport const policy = getPolicy();\n"]}